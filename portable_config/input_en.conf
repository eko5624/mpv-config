#############
## LUA Scripts ##
#############

##Append bindings for LUA scripts hotkeys. The keys bound here will coexist with the script's hotkeys.
##Some external script shortcuts can also be modified in the corresponding configuration files in the /script-opts/ folder, following the original author's instructions first.

## Long press space for 4x speed playback
SPACE                cycle pause                                  #@click
SPACE                no-osd set speed 4; set pause no             #@press
SPACE                ignore                                       #@release

## Long press space for 4x speed playback
I                    script-binding stats/display-stats-toggle    # Toggle persistent display of statistics
TAB                  script-binding stats/display-stats-toggle    # Toggle persistent display of statistics
? 					 script-binding stats/display-page-4-toggle   # View shortcuts
`                    script-binding console/enable                # Enter console (Esc to exit）
DEL                  script-binding osc/visibility                # Toggle visibility of OSC
F8					 script-binding select/select-playlist		  # Playlist


##############
## Other Operations ##
##############

##Display some of MPV's initial hotkeys, which can be modified as needed.
##Some operations, such as displaying the playlist, can be done by right-clicking the ◀︎▶︎ on the OSC control.
##Left, middle, right are respectively — key value/key name (required); trigger action name (required); Chinese comment explanation (can be deleted).
##Complete hotkeys can be found at https://github.com/mpv-player/mpv/blob/master/etc/input.conf. All functions can be found at https://mpv.io/manual/master/#input-conf

##⇘⇘Image browsing
WHEEL_UP             {image} script-binding positioning/cursor-centric-zoom 0.1     # Zoom in from mouse focus
WHEEL_DOWN           {image} script-binding positioning/cursor-centric-zoom -0.1    # Zoom out from mouse focus
MBTN_LEFT            {image} script-binding positioning/drag-to-pan              	# Move by dragging with the left mouse button
MBTN_RIGHT      	 {image} script-binding positioning/align-to-cursor 			# Right mouse button - position to focus
LEFT        		 {image} playlist-prev											# Previous image
RIGHT       		 {image} playlist-next											# Next image
KP8                  {image} script-binding positioning/pan-y +0.01   				# Move up
KP2                  {image} script-binding positioning/pan-y -0.01   				# Move down
KP4                  {image} script-binding positioning/pan-x +0.01   				# Move left
KP6                  {image} script-binding positioning/pan-x -0.01   				# Move right
BS  	     		 {image} set video-zoom 0; no-osd set panscan 0; no-osd set video-pan-x 0; no-osd set video-pan-y 0; no-osd set video-align-x 0; no-osd set video-align-y 0; no-osd set video-rotate 0; no-osd vf remove hflip,vflip	# Reset image zoom/pan/flip

##⇘⇘Mouse
MBTN_LEFT            show-progress                # Temporarily display timestamp/progress bar
MBTN_LEFT_DBL        cycle fullscreen             # Toggle fullscreen state [Left-click - double-click]
MBTN_RIGHT           script-binding select/context-menu	# Toggle context menu
MBTN_BACK            playlist-prev                # Switch to the previous file in the list [Back button]
MBTN_FORWARD         playlist-next                # Switch to the next file in the list [Forward button]
PGUP                 repeatable playlist-prev	  # Switch to the previous file in the list
PGDWN                repeatable playlist-next	  # Switch to the next file in the list
HOME 				 no-osd set playlist-pos 0    # Switch to the first file in the list
MBTN_MID             ignore                       # Default not defined but used by many, recommended to clear the next two action names if used (easy to misclick) [Middle-click (press wheel)]

WHEEL_UP             add volume  2                # Volume up by 2 [Wheel - up]
WHEEL_DOWN           add volume -2                # Volume down by 2 [Wheel - down]
WHEEL_LEFT           ignore                       # <No operation> [Wheel - left]
WHEEL_RIGHT          ignore                       # <No operation> [Wheel - right]

##⇘⇘Keyboard
q                    quit                         # Close MPV
Q                    quit-watch-later             # Close MPV to watch later (save current file state）
o                    show-progress                # Temporarily display timestamp/progress bar
P                    show-progress                # Temporarily display timestamp/progress bar
O                    no-osd cycle-values osd-level 3 1 # Persistent display of timestamp

## After output rotation, the vertical direction changes with the output direction. Output rotation operation will start the thumbnail reconstruction process.
## Output rotation may produce chroma upsampling bugs, which can be fixed by changing --cscale=bilinear in mpv.conf or enabling deband or using software decoding.
CTRL+s               cycle-values video-rotate 90 180 270 0                # Rotate 90° 
CTRL+n               cycle-values video-rotate 270 180 90 0                # Rotate 90° Clockwise
CTRL+v               loadfile ${clipboard/text} append-play				   # Open clipboard
V                    cycle sub-visibility                                  # Subtitles show/Hide
#                    cycle icc-profile-auto                                # Toggle color correction
1                    add contrast -1                                       # Video contrast -
2                    add contrast  1                                       # Video contrast +
3                    add brightness -1                                     # Video brightness -
4                    add brightness  1                                     # Video brightness +
5                    add gamma -1                                          # Video gamma -
6                    add gamma  1                                          # Video gamma +
7                    add saturation -1                                     # Video saturation -
8                    add saturation  1                                     # Video saturation +
9                    add hue -1                                            # Video hue -
0                    add hue  1                                            # Video hue +
Ctrl+BS            	 set contrast 0 ; set brightness 0 ; set gamma 0 ; set saturation 0 ; set hue 0 # Reset Equalizer
ALT+0                cycle-values current-window-scale "0.5" "1.0" "1.5" # Quickly scale window size
ALT+`                set current-window-scale  1.0    # Reset window size to one
ALT+1                add current-window-scale -0.1    # Window -
ALT+2                add current-window-scale  0.1    # Window +
ALT+9                cycle-values panscan "0.0" "1.0" # Video scaling to fit/fill window
ALT+-                add video-zoom  -0.01         # Video zoom -（window unchanged）
ALT+=                add video-zoom   0.01         # Video zoom +（window unchanged）
ALT+LEFT             add video-pan-x -0.01         # Video move ←（window unchanged）
ALT+RIGHT            add video-pan-x  0.01         # Video move →（window unchanged）
ALT+UP               add video-pan-y -0.01         # Video move ↑（window unchanged）
ALT+DOWN             add video-pan-y  0.01         # Video move ↓（window unchanged）
ALT+BS               set video-zoom 0 ; set video-pan-x 0 ; set video-pan-y 0 # Reset video zoom and pan
ALT+b                cycle border                 # Toggle window border

#CTRL+v               cycle video                  # Switch video track
p                    cycle pause                  # Toggle pause/play state
SPACE                cycle pause                  # Toggle pause/play state [Space key]
CTRL+ALT+SPACE       stop                         # Stop
T                    cycle ontop                  # Toggle always on top state
t                    set ontop yes                # Enter always on top state
f                    cycle fullscreen             # Toggle fullscreen state
ENTER                set fullscreen yes           # Enter fullscreen state [Enter key]
ESC                  set fullscreen no            # Exit fullscreen state
l                    ab-loop                      # Set/Clear A-B loop
L                    cycle-values loop-file "inf" "no" # Toggle current file loop playback
w           	   	 add panscan -0.1             # Remove black bars -
W           	     add panscan  0.1             # Remove black bars +
#h 					 no-osd vf toggle hflip 	  # Horizontal flip
#v 					 no-osd vf toggle vflip		  # Vertical Flip
,                    frame-back-step              #（Paused）Frame step back
.                    frame-step                   #（Paused）Frame step forward
CTRL+,               add chapter -1               # Chapter -
CTRL+.               add chapter  1               # Chapter +
<                    playlist-prev                # Previous file in the list
>                    playlist-next                # Next file in the list
LEFT                 seek -5                      # Back 05 seconds [Left arrow key]
SHIFT+LEFT           seek -1 exact                # Back 01 second (exact)
RIGHT                seek  5                      # Forward 05 seconds [Right arrow key]
SHIFT+RIGHT          seek  1 exact                # Forward 01 second (exact)
UP                   add volume  1                # Volume up by 1 [Up arrow key]
DOWN                 add volume -1                # Volume down by 1 [Down arrow key]
[                    add speed -0.1               # Playback speed - (minimum 0.01）
]                    add speed  0.1               # Playback speed +（maximum 100）
{                    multiply speed 0.5           # Playback speed halve
}                    multiply speed 2.0           # Playback speed double
BS                   set speed 1.0                # Reset playback speed [Backspace key]
d                    cycle deinterlace            # Toggle deinterlace state
D                    cycle deband                 # Toggle deband state
#j                    add sharpen -0.1             # Clarity - (not below -1)
#k                    add sharpen  0.1             # Clarity + (not above 1）
CTRL+h               cycle-values hwdec no auto	  # Toggle hardware decoding

## Quickly switch between specified audio output devices. For device name acquisition, see the FAQ or documentation on the release page https://mpv.io/manual/master/#options-audio-device
A                    cycle-values audio-device
-                    add volume -1                # Volume -
=                    add volume  1                # Volume +
m                    cycle mute                   # Toggle mute
ALT+c                add aid -1                   # Previous audio track
ALT+v                add aid  1                   # Next audio track
c                    add audio-delay -0.1         # Audio delay -100ms
v                    add audio-delay  0.1         # Audio delay +100ms
z                    add sub-delay -0.1           # Subtitle delay -100ms
x                    add sub-delay +0.1           # Subtitle delay +100ms
Z                    add sub-scale -0.1           # Subtitle scaling -
X                    add sub-scale +0.1           # Subtitle scaling +
CTRL+z               add sub-pos -1               # Subtitle move ↑
CTRL+x               add sub-pos +1               # Subtitle move ↓
j                    add secondary-sub-delay -0.1 # Secondary subtitle delay -100ms
k                    add secondary-sub-delay +0.1 # Secondary subtitle delay +100ms
CTRL+j               add secondary-sub-pos -1     # Secondary subtitle move ↑
CTRL+k               add secondary-sub-pos +1     # Secondary subtitle move ↓

ALT+z                add sid -1         		  # Previous subtitle track
ALT+x                add sid  1         		  # Next subtitle track
SHIFT+BS             set audio-delay 0; set sub-delay 0 # Reset audio/subtitle sync

s                    screenshot                   # Screenshot (with subtitles, with OSD) output original resolution
S                    screenshot video             # Screenshot (without subtitles, without OSD) output original resolution
ALT+s                screenshot each-frame        # Screenshot (frame by frame)
## Screenshot (frame by frame), execute the command again to stop. The default method is the same as "s", you can add "video" or "window" after "each-frame" to modify the way of frame-by-frame screenshot. You may need to use --framedrop=no in mpv.conf to avoid screenshot frame dropping and repetition.
